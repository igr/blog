---
const {date, short, lang} = Astro.props
const shortNames = lang === "rs" ? new Map<number, string>([
  [1, "jan"],
  [2, "feb"],
  [3, "mar"],
  [4, "apr"],
  [5, "maj"],
  [6, "jun"],
  [7, "jul"],
  [8, "avg"],
  [9, "sep"],
  [10, "okt"],
  [11, "nov"],
  [12, "dec"],
]) : new Map<number, string>([
  [1, "jan"],
  [2, "feb"],
  [3, "mar"],
  [4, "apr"],
  [5, "may"],
  [6, "jun"],
  [7, "jul"],
  [8, "aug"],
  [9, "sep"],
  [10, "oct"],
  [11, "nov"],
  [12, "dec"],
]);

const fullNames= lang === "rs" ? new Map<number, string>([
  [1, "januar"],
  [2, "februar"],
  [3, "mart"],
  [4, "april"],
  [5, "maj"],
  [6, "jun"],
  [7, "juli"],
  [8, "avgust"],
  [9, "septembar"],
  [10, "oktobar"],
  [11, "novembar"],
  [12, "decembar"],
]) : new Map<number, string>([
  [1, "january"],
  [2, "february"],
  [3, "march"],
  [4, "april"],
  [5, "may"],
  [6, "june"],
  [7, "july"],
  [8, "august"],
  [9, "september"],
  [10, "october"],
  [11, "november"],
  [12, "december"],
]);

const dateObj = new Date(date);
const dateShort = (dateObj : Date) => {
  const monthName = shortNames.get(dateObj.getMonth() + 1);
  return monthName + ' ' + dateObj.getDate();
};
const dateLong = (dateObj : Date) => {
  const monthName = fullNames.get(dateObj.getMonth() + 1);
  return dateObj.getDate() + '. ' + monthName + ' ' + dateObj.getFullYear() + '.';
};
const formattedPublishDate = short ? dateShort(dateObj) : dateLong(dateObj);
---
<time class="post-date skew"><span>{formattedPublishDate}</span></time>
