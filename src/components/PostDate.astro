---
const {date, short, lang} = Astro.props
const shortNames = lang === "rs" ? new Map<number, string>([
  [1, "jan"],
  [2, "feb"],
  [3, "mar"],
  [4, "apr"],
  [5, "maj"],
  [6, "jun"],
  [7, "jul"],
  [8, "avg"],
  [9, "sep"],
  [10, "okt"],
  [11, "nov"],
  [12, "dec"],
]) : new Map<number, string>([
  [1, "Jan"],
  [2, "Feb"],
  [3, "Mar"],
  [4, "Apr"],
  [5, "May"],
  [6, "Jun"],
  [7, "Jul"],
  [8, "Aug"],
  [9, "Sep"],
  [10, "Oct"],
  [11, "Nov"],
  [12, "Dec"],
]);

const fullNames= lang === "rs" ? new Map<number, string>([
  [1, "januar"],
  [2, "februar"],
  [3, "mart"],
  [4, "april"],
  [5, "maj"],
  [6, "jun"],
  [7, "juli"],
  [8, "avgust"],
  [9, "septembar"],
  [10, "oktobar"],
  [11, "novembar"],
  [12, "decembar"],
]) : new Map<number, string>([
  [1, "January"],
  [2, "February"],
  [3, "March"],
  [4, "April"],
  [5, "May"],
  [6, "June"],
  [7, "July"],
  [8, "August"],
  [9, "September"],
  [10, "October"],
  [11, "November"],
  [12, "December"],
]);

const dateObj = new Date(date);
const dateShort = (dateObj : Date) => {
  const monthName = shortNames.get(dateObj.getMonth() + 1);
  return monthName + ' ' + dateObj.getDate();
};
const dateLong = (dateObj : Date) => {
  const monthName = fullNames.get(dateObj.getMonth() + 1);
  return dateObj.getDate() + '. ' + monthName + ' ' + dateObj.getFullYear() + '.';
};
const formattedPublishDate = short ? dateShort(dateObj) : dateLong(dateObj);
---
<time class="post-date skew"><span>{formattedPublishDate}</span></time>
